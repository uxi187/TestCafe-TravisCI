language: node_js
node_js:
  - '12'

os:
  - windows

before_script:
- choco install googlechrome --ignore-checksums

install:
- npm ci

- &smoke
  stage: smoke
  script:
    - npm run tests:chrome
  cache:
    directories:
      - ~/.npm
      - node_modules

- <<: *smoke

- <<: *smoke

- <<: *smoke